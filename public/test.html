<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Orbitmate API test</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/session-controls.css" />
    <!-- Marked.js for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Highlight.js for syntax highlighting -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  </head>
  <body>
    <!-- 테스트 페이지 로그인 -->
    <div
      id="test-login-overlay"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
      "
    >
      <div
        style="
          background: white;
          padding: 30px;
          border-radius: 10px;
          text-align: center;
          max-width: 400px;
          width: 90%;
        "
      >
        <h2>🚀 Orbitmate 테스트 페이지</h2>
        <p>개발자 전용 테스트 페이지입니다</p>
        <input
          type="password"
          id="test-password-input"
          placeholder="테스트 페이지 비밀번호"
          style="
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
          "
          onkeypress="if(event.key==='Enter') checkTestPassword()"
        />
        <br />
        <button
          onclick="checkTestPassword()"
          style="
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
          "
        >
          로그인
        </button>
        <div
          id="test-login-error"
          style="color: red; margin-top: 10px; display: none"
        ></div>
      </div>
    </div>

    <div class="header">
      <img
        src="assets/Orbitmate.png"
        alt="Orbitmate Logo"
        class="logo"
        width="100"
        height="100"
      />
      <div>
        <h1>Orbitmate API 테스트 페이지</h1>
        <p>백엔드 API 테스트 및 디버깅을 위한 페이지입니다</p>
      </div>
      <div style="display: flex; gap: 10px; align-items: center">
        <button
          id="dark-mode-toggle"
          class="test-button"
          style="background-color: #6c757d"
        >
          🌓 다크모드
        </button>
        <a href="/" class="test-button" style="background-color: #007bff"
          >메인 채팅 페이지로</a
        >
        <button
          onclick="logoutTestPage()"
          class="test-button"
          style="background-color: #dc3545"
        >
          로그아웃
        </button>
      </div>
    </div>

    <!-- 🤖 자동 API 테스트 (상단으로 이동) -->
    <div class="api-section" style="margin: 20px 0; border: 2px solid #28a745; border-radius: 10px; background: #f8fff8;">
      <h3 style="color: #28a745; margin: 15px 0; text-align: center;">🤖 자동 API 테스트</h3>
      <div
        style="
          background: #e8f5e8;
          padding: 15px;
          border-radius: 8px;
          margin: 15px;
        "
      >
        <p><strong>전체 API 엔드포인트 자동 테스트</strong></p>
        <p>
          사용자 등록/로그인, 세션 관리, 구독 정보, 번역, AI 정보, 검색 등 모든
          API를 자동으로 테스트합니다.
        </p>
        <p style="color: #666; font-size: 0.9em">
          ⚠️ 참고: AI 채팅/스트리밍 API는 제외됩니다. 테스트용 고정 ID
          (API_TEST_USER_ID) 사용.
        </p>
      </div>
      <div style="text-align: center; padding: 0 15px 15px;">
        <button
          id="run-auto-api-test"
          style="
            background: #28a745;
            color: white;
            padding: 15px 30px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          "
        >
          🚀 전체 API 테스트 실행
        </button>
        <button
          id="export-test-results"
          style="
            background: #007bff;
            color: white;
            padding: 10px 20px;
            font-size: 14px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          "
        >
          📄 결과 내보내기
        </button>
        <button
          id="clear-test-results"
          style="
            background: #6c757d;
            color: white;
            padding: 10px 20px;
            font-size: 14px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          "
        >
          🗑️ 결과 지우기
        </button>
      </div>
      <div
        id="api-test-results"
        style="
          margin: 15px;
          padding: 15px;
          background: #f8f9fa;
          border-radius: 8px;
          max-height: 500px;
          overflow-y: auto;
          border: 1px solid #dee2e6;
        "
      >
        <p style="color: #666; font-style: italic;">테스트 결과가 여기에 표시됩니다...</p>
      </div>
    </div>

    <!-- 간단한 테스트 채팅 UI -->
    <div id="test-chat-container">
      <h3>테스트 채팅 (메시지 ID 표시)</h3>
      <div id="chat-box"></div>
      <div id="input-area">
        <input
          type="text"
          id="message-input"
          placeholder="메시지를 입력하세요..."
        />
        <button id="send-button">전송</button>
      </div>
      <div id="ai-selector" style="margin-top: 10px; text-align: center">
        <span>AI Provider:</span>
        <label
          ><input type="radio" name="aiProvider" value="ollama" /> Ollama</label
        >
        <label
          ><input type="radio" name="aiProvider" value="gemini" checked />
          Gemini</label
        >
        <span style="margin-left: 15px">Ollama Model:</span>
        <label
          ><input type="radio" name="ollamaModel" value="orbitmate-stellar-1b" />
          OrbitMate Stellar 1B</label
        >
        <label
          ><input type="radio" name="ollamaModel" value="orbitmate-stellar-4b" checked />
          OrbitMate Stellar 4B</label
        >
        <label
          ><input type="radio" name="ollamaModel" value="orbitmate-stellar-12b" />
          OrbitMate Stellar 12B</label
        >
        <label><input type="checkbox" id="it-qat" /> 양자화</label>
        <!-- OrbitMate 양자화 모델의 경우 모델명 뒤에 -quantum 태그가 붙습니다 ex: orbitmate-stellar-4b-quantum-->
        <br />
        <label for="system-prompt-input" style="margin-left: 15px"
          >System Prompt:</label
        >
        <input
          type="text"
          id="system-prompt-input"
          placeholder="Optional system prompt..."
          style="width: 200px; margin-left: 5px"
        />
        <label style="margin-left: 15px"
          ><input type="checkbox" id="stream-mode-checkbox" /> Stream
          Mode</label
        >
        <span style="margin-left: 15px">특수 모드:</span>
        <select id="special-mode-selector" style="margin-left: 5px">
          <option value="">없음</option>
          <option value="canvas">Canvas</option>
          <option value="search">Search</option>
          <option value="chatbot">Chatbot</option>
        </select>
      </div>
      <div
        class="session-controls"
        style="margin-top: 10px; text-align: center"
      >
        <button id="reset-session-button" style="background-color: #dc3545">
          새 세션 시작
        </button>
        <button id="refresh-messages-button" style="background-color: #17a2b8">
          메시지 새로고침
        </button>
      </div>
    </div>

    <div id="api-test-container">
      <!-- 사용자 관리 -->
      <div class="api-section">
        <h3>사용자 관리</h3>
        <div>
          <input type="text" id="register-username" placeholder="사용자명" />
          <input type="email" id="register-email" placeholder="이메일" />
          <input
            type="password"
            id="register-password"
            placeholder="비밀번호"
          />
          <button id="register-button">회원가입</button>
        </div>
        <div>
          <input type="email" id="login-email" placeholder="이메일" />
          <input type="password" id="login-password" placeholder="비밀번호" />
          <button id="login-button">로그인</button>
        </div>
        <div>
          <input
            type="text"
            id="user-id-input"
            placeholder="사용자 ID (로그인 후 자동 입력)"
          />
          <button id="get-user-profile-button">프로필 조회</button>
          <button id="delete-user-button">회원 탈퇴</button>
        </div>
        <div>
          <input
            type="text"
            id="user-settings-user-id"
            placeholder="사용자 ID"
          />
          <textarea
            id="user-settings-payload"
            placeholder='{\"theme\": \"dark\"}'
          ></textarea>
          <button id="get-user-settings-button">설정 조회</button>
          <button id="update-user-settings-button">설정 수정</button>
        </div>
        <div>
          <input
            type="text"
            id="profile-image-user-id"
            placeholder="사용자 ID"
          />
          <input type="file" id="profile-image-file" />
          <button id="upload-profile-image-button">프로필 이미지 업로드</button>
        </div>
      </div>

      <!-- 채팅 세션 관리 -->
      <div class="api-section">
        <h3>채팅 세션 관리</h3>
        <div>
          <input
            type="text"
            id="create-session-user-id"
            placeholder="사용자 ID"
          />
          <input
            type="text"
            id="create-session-title"
            placeholder="세션 제목"
          />
          <input
            type="text"
            id="create-session-category"
            placeholder="카테고리 (선택)"
          />
          <button id="create-session-button">세션 생성</button>
        </div>
        <div>
          <input
            type="text"
            id="get-sessions-user-id"
            placeholder="사용자 ID"
          />
          <button id="get-user-sessions-button">사용자 세션 목록 조회</button>
        </div>
        <div>
          <input
            type="text"
            id="session-id-input"
            placeholder="세션 ID (생성/조회 후 자동 입력)"
          />
          <textarea
            id="update-session-payload"
            placeholder='{\"title\": \"수정된 제목\"}'
          ></textarea>
          <button id="update-session-button">세션 정보 수정</button>
          <button id="delete-session-button">세션 삭제</button>
          <button id="get-session-messages-button">세션 메시지 조회</button>
        </div>
      </div>

      <!-- 채팅 메시지 관리 -->
      <div class="api-section">
        <h3>채팅 메시지 관리</h3>
        <div>
          <input type="text" id="message-id-input" placeholder="메시지 ID" />
          <input
            type="text"
            id="edit-message-content"
            placeholder="수정할 메시지 내용"
          />
          <textarea
            id="edit-message-reason"
            placeholder="편집 이유 (선택사항)"
          ></textarea>
          <button id="edit-message-button">메시지 수정</button>
          <button id="get-message-history-button">편집 기록 조회</button>
        </div>
        <div>
          <input type="text" id="reaction-message-id" placeholder="메시지 ID" />
          <input
            type="text"
            id="reaction-content"
            placeholder="리액션 (예: 👍)"
          />
          <button id="add-reaction-button">리액션 추가</button>
          <button id="remove-reaction-button">리액션 제거</button>
        </div>
        <div>
          <input type="text" id="delete-message-id" placeholder="메시지 ID" />
          <button id="delete-message-button">메시지 삭제</button>
        </div>
        <div>
          <input type="text" id="reresponse-session-id" placeholder="세션 ID" />
          <input
            type="text"
            id="reresponse-message-id"
            placeholder="편집된 메시지 ID"
          />
          <button id="request-ai-reresponse-button">AI 재응답 요청</button>
        </div>
        <div>
          <input
            type="text"
            id="upload-file-session-id"
            placeholder="세션 ID"
          />
          <input type="file" id="chat-file-input" />
          <button id="upload-file-button">파일 업로드 (채팅)</button>
        </div>
      </div>

      <!-- 프로필 꾸미기 및 레벨 시스템 -->
      <div class="api-section">
        <h3>🎨 프로필 꾸미기 & 레벨 시스템</h3>

        <!-- 프로필 꾸미기 -->
        <h4>프로필 꾸미기</h4>
        <div>
          <input
            type="text"
            id="customization-user-id"
            placeholder="사용자 ID"
            value="guest"
          />
          <button id="get-customization-button">꾸미기 설정 조회</button>
        </div>
        <div>
          <input
            type="text"
            id="profile-theme"
            placeholder="프로필 테마 (default, dark, neon)"
          />
          <input
            type="text"
            id="profile-border"
            placeholder="프로필 테두리 (none, gold, rainbow)"
          />
          <input type="text" id="status-message" placeholder="상태 메시지" />
          <textarea id="introduction-update" placeholder="자기소개"></textarea>
          <button id="update-customization-button">꾸미기 설정 업데이트</button>
        </div>

        <!-- 레벨 시스템 -->
        <h4>레벨 & 경험치</h4>
        <div>
          <input
            type="text"
            id="level-user-id"
            placeholder="사용자 ID"
            value="guest"
          />
          <button id="get-level-button">레벨 정보 조회</button>
        </div>
        <div>
          <input
            type="number"
            id="exp-points"
            placeholder="경험치 포인트"
            value="50"
            min="1"
          />
          <input
            type="text"
            id="exp-type"
            placeholder="경험치 타입"
            value="manual"
          />
          <textarea id="exp-reason" placeholder="경험치 지급 이유"></textarea>
          <button id="add-experience-button">경험치 추가</button>
        </div>

        <!-- 뱃지 시스템 -->
        <h4>뱃지 관리</h4>
        <div>
          <input
            type="text"
            id="badge-user-id"
            placeholder="사용자 ID"
            value="guest"
          />
          <button id="get-badges-button">뱃지 목록 조회</button>
        </div>
        <div>
          <input type="text" id="toggle-badge-id" placeholder="뱃지 ID" />
          <label><input type="checkbox" id="badge-equipped" /> 착용</label>
          <button id="toggle-badge-button">뱃지 착용/해제</button>
        </div>
        <!-- 뱃지 레벨 시스템 -->
        <h4>🏆 뱃지 레벨 시스템 (수정된 버전)</h4>
        <div>
          <input
            type="text"
            id="badge-level-user-id"
            placeholder="사용자 ID"
            value="guest"
          />
          <button id="get-badge-details-button">뱃지 상세 조회</button>
        </div>
        <div
          style="
            background: #ffe6e6;
            padding: 10px;
            margin: 5px 0;
            border-left: 3px solid #ff6b6b;
          "
        >
          <strong>⚠️ 버그 제보 (승인 대기 방식)</strong><br />
          <input
            type="text"
            id="bug-description"
            placeholder="버그 설명 (최소 10자)"
            style="width: 300px"
          />
          <select id="bug-severity">
            <option value="low">낮음</option>
            <option value="medium" selected>보통</option>
            <option value="high">높음</option>
            <option value="critical">심각</option>
          </select>
          <button id="submit-bug-report-button">
            🐛 버그 제보 (승인 대기)
          </button>
          <br /><small>🔄 개발팀 검토 후 버그 헌터 뱃지 레벨 증가</small>
        </div>
        <div
          style="
            background: #e6f3ff;
            padding: 10px;
            margin: 5px 0;
            border-left: 3px solid #4a9eff;
          "
        >
          <strong>💭 피드백 제출 (승인 대기 방식)</strong><br />
          <input
            type="text"
            id="feedback-content"
            placeholder="피드백 내용 (최소 5자)"
            style="width: 300px"
          />
          <select id="feedback-type">
            <option value="general">일반</option>
            <option value="ui_ux">UI/UX</option>
            <option value="feature_request">기능 요청</option>
            <option value="performance">성능</option>
          </select>
          <button id="submit-feedback-button">
            💡 피드백 제출 (승인 대기)
          </button>
          <br /><small>🔄 개발팀 검토 후 피드백 전문가 뱃지 레벨 증가</small>
        </div>
        <div
          style="
            background: #f0f8e6;
            padding: 10px;
            margin: 5px 0;
            border-left: 3px solid #8bc34a;
          "
        >
          <strong>🧪 테스트 참여 (단순 뱃지)</strong><br />
          <select id="test-type">
            <option value="alpha">알파 테스트</option>
            <option value="beta" selected>베타 테스트</option>
          </select>
          <input
            type="text"
            id="test-details"
            placeholder="테스트 세부사항"
            style="width: 250px"
          />
          <button id="test-participation-button">🧪 테스트 참여</button>
          <br /><small>✅ 즉시 뱃지 지급 (레벨 없음)</small>
        </div>
        <div
          style="
            background: #fff5e6;
            padding: 10px;
            margin: 5px 0;
            border-left: 3px solid #ff9800;
          "
        >
          <strong>🎖️ 구독 기간 뱃지</strong><br />
          <select id="subscription-tier">
            <option value="planet">플래닛</option>
            <option value="star">스타</option>
          </select>
          <input
            type="number"
            id="subscription-months"
            placeholder="구독 개월 수"
            min="1"
            max="60"
            value="1"
          />
          <button id="upgrade-subscription-badge-button">
            📅 구독 뱃지 업그레이드
          </button>
          <br /><small>🌟 1→2→3→6→12→24→36개월 레벨 시스템</small>
        </div>
        <div
          style="
            background: #f5e6ff;
            padding: 10px;
            margin: 5px 0;
            border-left: 3px solid #9c27b0;
          "
        >
          <strong>👨‍💻 개발자 승인 (관리자용)</strong><br />
          <select id="approve-badge-name">
            <option value="버그 헌터">버그 헌터</option>
            <option value="피드백 전문가">피드백 전문가</option>
          </select>
          <input
            type="text"
            id="approve-reason"
            placeholder="승인 사유"
            style="width: 200px"
          />
          <button id="approve-badge-button">✅ 뱃지 승인</button>
          <br /><small>🔐 개발자만 사용 가능한 수동 승인</small>
        </div>
      </div>

      <!-- 다국어 지원 -->
      <div class="api-section">
        <h3>🌍 다국어 지원</h3>
        <div>
          <select id="translation-lang">
            <option value="ko">한국어 (ko)</option>
            <option value="en">영어 (en)</option>
            <option value="ja">일본어 (ja)</option>
            <option value="zh">중국어 (zh)</option>
          </select>
          <select id="translation-category">
            <option value="">전체 카테고리</option>
            <option value="ui">UI</option>
            <option value="message">메시지</option>
            <option value="error">오류</option>
            <option value="notification">알림</option>
          </select>
          <button id="get-translations-button">번역 리소스 조회</button>
        </div>
        <div>
          <input
            type="text"
            id="language-user-id"
            placeholder="사용자 ID"
            value="guest"
          />
          <select id="user-language">
            <option value="ko">한국어</option>
            <option value="en">영어</option>
            <option value="ja">일본어</option>
            <option value="zh">중국어</option>
          </select>
          <button id="update-language-button">언어 설정 업데이트</button>
        </div>
      </div>

      <!-- 구독 관리 시스템 -->
      <div class="api-section">
        <h3>💳 구독 관리 시스템</h3>

        <!-- 구독 등급 조회 -->
        <h4>구독 등급 관리</h4>
        <div>
          <button id="get-subscription-tiers-button">
            구독 등급 목록 조회
          </button>
        </div>

        <!-- 사용자 구독 정보 -->
        <h4>사용자 구독 정보</h4>
        <div>
          <input
            type="text"
            id="subscription-user-id"
            placeholder="사용자 ID"
            value="guest"
          />
          <button id="get-user-subscription-button">구독 정보 조회</button>
          <button id="get-subscription-history-button">구독 이력 조회</button>
        </div>

        <!-- 구독 업그레이드/다운그레이드 -->
        <h4>구독 변경</h4>
        <div>
          <select id="target-tier">
            <option value="free">무료 (코멧 ☄️)</option>
            <option value="planet">플래닛 🪐 (월 1.5만원)</option>
            <option value="star">스타 ☀️ (월 15만원)</option>
            <option value="galaxy">갤럭시 🌌 (기업용 월 300만원)</option>
          </select>
          <select id="payment-method">
            <option value="card">신용카드</option>
            <option value="bank">계좌이체</option>
            <option value="corporate">기업계약</option>
          </select>
          <select id="billing-cycle">
            <option value="monthly">월간</option>
            <option value="yearly">연간</option>
          </select>
          <label
            ><input type="checkbox" id="auto-renewal" checked /> 자동갱신</label
          >
          <br /><br />
          <button id="update-subscription-button">구독 업데이트</button>
          <button id="cancel-subscription-button">구독 취소</button>
        </div>

        <!-- 기능 권한 확인 -->
        <h4>기능 권한 & 사용량</h4>
        <div>
          <input
            type="text"
            id="feature-name"
            placeholder="기능명 (예: file_upload)"
            value="file_upload"
          />
          <button id="check-feature-access-button">기능 권한 확인</button>
          <button id="check-daily-usage-button">일일 사용량 확인</button>
        </div>
      </div>

      <!-- � 관리자 권한 관리 시스템 -->
      <div class="api-section">
        <h3>👑 관리자 권한 관리 시스템</h3>

        <!-- 관리자 권한 확인 -->
        <h4>관리자 권한 확인</h4>
        <div>
          <input
            type="text"
            id="admin-check-user-id"
            placeholder="사용자 ID"
            value="guest"
          />
          <button id="check-admin-status-button">관리자 권한 확인</button>
        </div>

        <!-- 관리자 권한 설정 -->
        <h4>관리자 권한 설정</h4>
        <div>
          <input
            type="text"
            id="admin-set-user-id"
            placeholder="사용자 ID"
            value="guest"
          />
          <select id="admin-status-select">
            <option value="true">관리자 권한 부여</option>
            <option value="false">관리자 권한 해제</option>
          </select>
          <button id="set-admin-status-button">관리자 권한 설정</button>
        </div>

        <!-- 사용자 목록 조회 (관리자 기능) -->
        <h4>사용자 목록 조회</h4>
        <div>
          <input
            type="number"
            id="user-list-limit"
            placeholder="페이지 크기"
            value="10"
            min="1"
            max="100"
          />
          <input
            type="number"
            id="user-list-offset"
            placeholder="시작 위치"
            value="0"
            min="0"
          />
          <input
            type="text"
            id="user-list-search"
            placeholder="검색어 (사용자명/이메일)"
          />
          <select id="user-list-sort">
            <option value="created_at">가입일순</option>
            <option value="username">사용자명순</option>
            <option value="email">이메일순</option>
            <option value="last_login">최근 로그인순</option>
          </select>
          <select id="user-list-order">
            <option value="desc">내림차순</option>
            <option value="asc">오름차순</option>
          </select>
          <label>
            <input type="checkbox" id="user-list-include-inactive" />
            비활성 사용자 포함
          </label>
          <button id="get-user-list-button">사용자 목록 조회</button>
        </div>
      </div>

      <!-- 🔄 사용자 활성화 상태 관리 -->
      <div class="api-section">
        <h3>🔄 사용자 활성화 상태 관리</h3>

        <!-- 사용자 활성화 상태 확인 -->
        <h4>사용자 활성화 상태 확인</h4>
        <div>
          <input
            type="text"
            id="active-check-user-id"
            placeholder="사용자 ID"
            value="API_TEST_USER_ID"
          />
          <button id="check-active-status-button">활성화 상태 확인</button>
        </div>

        <!-- 사용자 활성화 상태 설정 -->
        <h4>사용자 활성화 상태 설정</h4>
        <div>
          <input
            type="text"
            id="active-set-user-id"
            placeholder="사용자 ID"
            value="API_TEST_USER_ID"
          />
          <select id="active-status-select">
            <option value="true">활성화</option>
            <option value="false">비활성화</option>
          </select>
          <button id="set-active-status-button">활성화 상태 설정</button>
        </div>
      </div>

      <!-- 📊 관리자용 세션 전체 조회 -->
      <div class="api-section">
        <h3>📊 관리자용 세션 전체 조회</h3>

        <!-- 전체 세션 조회 -->
        <h4>전체 세션 조회</h4>
        <div>
          <input
            type="text"
            id="admin-session-user-id"
            placeholder="사용자 ID 필터 (선택)"
            value=""
          />
          <input
            type="number"
            id="admin-session-limit"
            placeholder="페이지 크기"
            value="20"
            min="1"
            max="100"
          />
          <input
            type="number"
            id="admin-session-offset"
            placeholder="시작 위치"
            value="0"
            min="0"
          />
          <label>
            <input type="checkbox" id="admin-session-include-empty" />
            빈 세션 포함
          </label>
          <button id="get-admin-sessions-button">전체 세션 조회</button>
        </div>
      </div>

      <!-- �🔍 검색 기능 테스트 -->
      <div class="test-section">
        <h3>🔍 검색 기능 테스트</h3>

        <h4>위키피디아 검색</h4>
        <div>
          <input
            type="text"
            id="wikipedia-query"
            placeholder="검색할 키워드"
            value="인공지능"
          />
          <button id="search-wikipedia-button">위키피디아 검색</button>
        </div>

        <h4>날씨 정보</h4>
        <div>
          <button id="weather-by-ip-button">현재 위치 날씨</button>
          <input
            type="text"
            id="weather-city"
            placeholder="도시명 (예: Seoul)"
            value="Seoul"
          />
          <button id="weather-by-city-button">도시별 날씨</button>
        </div>

        <h4>미구현 검색 API</h4>
        <div>
          <button id="search-naver-button">네이버 검색 (미구현)</button>
          <button id="search-kakao-button">카카오 검색 (미구현)</button>
        </div>

        <h4>캐시 관리</h4>
        <div>
          <button id="clear-cache-button">캐시 삭제</button>
          <button id="get-cache-stats-button">캐시 통계</button>
        </div>
      </div>

      <!-- � 게시물 관리 시스템 테스트 -->
      <div class="test-section">
        <h3>📝 다국어 게시물 관리 시스템</h3>

        <h4>게시물 생성</h4>
        <div>
          <input type="text" id="post-user-id" placeholder="사용자 ID" value="testuser" />
          <input type="text" id="post-subject" placeholder="제목" value="테스트 게시물" />
          <textarea id="post-content" placeholder="내용" rows="3">안녕하세요! 오비메이트 게시판 테스트 중입니다.</textarea>
          <input type="password" id="post-password" placeholder="비밀번호" value="test123" />
          <select id="post-origin-language">
            <option value="ko">한국어</option>
            <option value="en">영어</option>
            <option value="ja">일본어</option>
            <option value="zh">중국어</option>
          </select>
          <label><input type="checkbox" id="post-is-notice" /> 공지사항</label>
          <br /><br />
          <button id="create-post-button">게시물 생성</button>
        </div>

        <h4>게시물 목록 조회</h4>
        <div>
          <select id="post-list-language">
            <option value="ko">한국어</option>
            <option value="en">영어</option>
            <option value="ja">일본어</option>
            <option value="zh">중국어</option>
          </select>
          <input type="number" id="post-list-page" placeholder="페이지" value="1" />
          <input type="number" id="post-list-limit" placeholder="개수" value="10" />
          <button id="get-post-list-button">게시물 목록 조회</button>
        </div>

        <h4>게시물 상세 조회</h4>
        <div>
          <input type="number" id="post-detail-id" placeholder="게시물 ID" value="1" />
          <select id="post-detail-language">
            <option value="ko">한국어</option>
            <option value="en">영어</option>
            <option value="ja">일본어</option>
            <option value="zh">중국어</option>
          </select>
          <button id="get-post-detail-button">게시물 상세 조회</button>
        </div>

        <h4>게시물 수정/삭제</h4>
        <div>
          <input type="number" id="update-post-id" placeholder="게시물 ID" value="1" />
          <input type="text" id="update-post-user-id" placeholder="사용자 ID" value="testuser" />
          <input type="text" id="update-post-subject" placeholder="새 제목" value="수정된 제목" />
          <textarea id="update-post-content" placeholder="새 내용" rows="3">수정된 내용입니다.</textarea>
          <input type="password" id="update-post-password" placeholder="비밀번호" value="test123" />
          <br /><br />
          <button id="update-post-button">게시물 수정</button>
          <button id="delete-post-button">게시물 삭제</button>
        </div>

        <h4>번역 요청</h4>
        <div>
          <input type="number" id="translate-post-id" placeholder="게시물 ID" value="1" />
          <select id="translate-language">
            <option value="en">영어</option>
            <option value="ja">일본어</option>
            <option value="zh">중국어</option>
            <option value="ko">한국어</option>
          </select>
          <button id="translate-post-button">AI 번역 요청</button>
        </div>
      </div>

      <!-- �🐛 버그 제보 및 피드백 테스트 -->
      <div class="test-section">
        <h3>🐛 버그 제보 및 피드백 시스템</h3>

        <h4>버그 제보</h4>
        <div>
          <button id="create-bug-report-button">버그 제보 생성</button>
          <button id="get-user-bug-reports-button">내 버그 제보 목록</button>
          <button id="get-all-bug-reports-button">전체 버그 제보 목록</button>
        </div>

        <h4>피드백 제출</h4>
        <div>
          <button id="create-feedback-button">일반 피드백 제출</button>
          <button id="create-feature-request-button">기능 요청 제출</button>
          <button id="get-user-feedbacks-button">내 피드백 목록</button>
          <button id="get-all-feedbacks-button">전체 피드백 목록</button>
        </div>

        <h4>피드백 관리</h4>
        <div>
          <input
            type="text"
            id="feedback-id-input"
            placeholder="피드백 ID"
          />
          <button id="vote-feedback-button">피드백 추천</button>
          <button id="update-feedback-button">피드백 상태 업데이트</button>
        </div>

        <h4>관리자 기능</h4>
        <div>
          <input
            type="text"
            id="bug-report-id-input"
            placeholder="버그 제보 ID"
          />
          <button id="update-bug-report-button">버그 제보 상태 업데이트</button>
        </div>

        <h4>통계 조회</h4>
        <div>
          <button id="get-bug-statistics-button">버그 제보 통계</button>
          <button id="get-feedback-statistics-button">피드백 통계</button>
        </div>

        <h4>전체 테스트</h4>
        <div>
          <button id="test-feedback-system-complete-button">피드백 시스템 전체 테스트</button>
        </div>
      </div>
    </div>
    <div class="footer">
      <p>© 2025 Orbitmate - API 테스트 도구 (HTTP SSE 스트리밍)</p>
    </div>

    <!-- 메인 테스트 스크립트 -->
    <script type="module" src="testScript.js"></script>

    <script>
      // 전역 함수 정의 (HTML에서 직접 호출 가능)
      function checkTestPassword() {
        const passwordInput = document.getElementById("test-password-input");
        const errorDiv = document.getElementById("test-login-error");
        const overlay = document.getElementById("test-login-overlay");

        const password = passwordInput.value.trim();

        if (password === "orbitmate2025") {
          // 세션 스토리지에 로그인 상태 저장
          sessionStorage.setItem("testPageLoggedIn", "true");
          overlay.style.display = "none";
          errorDiv.style.display = "none";
        } else {
          errorDiv.textContent = "비밀번호가 올바르지 않습니다.";
          errorDiv.style.display = "block";
          passwordInput.value = "";
          passwordInput.focus();
        }
      }

      function logoutTestPage() {
        sessionStorage.removeItem("testPageLoggedIn");
        location.reload();
      }

      // 페이지 로드 시 로그인 상태 체크
      function checkLoginStatus() {
        const isLoggedIn = sessionStorage.getItem("testPageLoggedIn");
        const overlay = document.getElementById("test-login-overlay");

        if (isLoggedIn === "true") {
          overlay.style.display = "none";
        } else {
          overlay.style.display = "flex";
          // 비밀번호 입력창에 포커스
          setTimeout(() => {
            document.getElementById("test-password-input").focus();
          }, 100);
        }
      }

      // DOM 로드 완료 시 로그인 상태 체크
      document.addEventListener("DOMContentLoaded", function () {
        checkLoginStatus();
      });
    </script>
  </body>
</html>
